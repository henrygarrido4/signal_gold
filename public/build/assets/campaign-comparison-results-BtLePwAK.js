import{S as fe,U as Re,r as he,c as Se,w as ge,o as Ae,a as ce,f as Q,h as we}from"./app-BWABJYdq.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";var Ce={exports:{}};(function(U,p){(function(a,u){u()})(fe,function(){function a(n,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function u(n,d,I){var k=new XMLHttpRequest;k.open("GET",n),k.responseType="blob",k.onload=function(){O(k.response,d,I)},k.onerror=function(){console.error("could not download file")},k.send()}function A(n){var d=new XMLHttpRequest;d.open("HEAD",n,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function b(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(d)}}var w=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof fe=="object"&&fe.global===fe?fe:void 0,x=w.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),O=w.saveAs||(typeof window!="object"||window!==w?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(n,d,I){var k=w.URL||w.webkitURL,M=document.createElement("a");d=d||n.name||"download",M.download=d,M.rel="noopener",typeof n=="string"?(M.href=n,M.origin===location.origin?b(M):A(M.href)?u(n,d,I):b(M,M.target="_blank")):(M.href=k.createObjectURL(n),setTimeout(function(){k.revokeObjectURL(M.href)},4e4),setTimeout(function(){b(M)},0))}:"msSaveOrOpenBlob"in navigator?function(n,d,I){if(d=d||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(a(n,I),d);else if(A(n))u(n,d,I);else{var k=document.createElement("a");k.href=n,k.target="_blank",setTimeout(function(){b(k)})}}:function(n,d,I,k){if(k=k||open("","_blank"),k&&(k.document.title=k.document.body.innerText="downloading..."),typeof n=="string")return u(n,d,I);var M=n.type==="application/octet-stream",re=/constructor/i.test(w.HTMLElement)||w.safari,se=/CriOS\/[\d]+/.test(navigator.userAgent);if((se||M&&re||x)&&typeof FileReader<"u"){var L=new FileReader;L.onloadend=function(){var $=L.result;$=se?$:$.replace(/^data:[^;]*;/,"data:attachment/file;"),k?k.location.href=$:location=$,k=null},L.readAsDataURL(n)}else{var ee=w.URL||w.webkitURL,Z=ee.createObjectURL(n);k?k.location=Z:location.href=Z,k=null,setTimeout(function(){ee.revokeObjectURL(Z)},4e4)}});w.saveAs=O.saveAs=O,U.exports=O})})(Ce);var Oe=Ce.exports,Ee={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(U,p){((a,u)=>{U.exports=u()})(fe,function a(){var u=typeof self<"u"?self:typeof window<"u"?window:u!==void 0?u:{},A,b=!u.document&&!!u.postMessage,w=u.IS_PAPA_WORKER||!1,x={},O=0,n={};function d(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var i=_e(t);i.chunkSize=parseInt(i.chunkSize),t.step||t.chunk||(i.chunkSize=null),this._handle=new se(i),(this._handle.streamer=this)._config=i}).call(this,e),this.parseChunk=function(t,i){var s=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<s){let m=this._config.newline;m||(r=this._config.quoteChar||'"',m=this._handle.guessLineEndings(t,r)),t=[...t.split(m).slice(s)].join(m)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(r=this._config.beforeFirstChunk(t))!==void 0&&(t=r),this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+t,r=(this._partialLine="",this._handle.parse(s,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=r.meta.cursor,s=(this._finished||(this._partialLine=s.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),w)u.postMessage({results:r,workerId:n.WORKER_ID,finished:s});else if(R(this._config.chunk)&&!i){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!s||!R(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(t){R(this._config.error)?this._config.error(t):w&&this._config.error&&u.postMessage({workerId:n.WORKER_ID,error:t,finished:!1})}}function I(e){var t;(e=e||{}).chunkSize||(e.chunkSize=n.RemoteChunkSize),d.call(this,e),this._nextChunk=b?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(i){this._input=i,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),b||(t.onload=oe(this._chunkLoaded,this),t.onerror=oe(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!b),this._config.downloadRequestHeaders){var i,s=this._config.downloadRequestHeaders;for(i in s)t.setRequestHeader(i,s[i])}var r;this._config.chunkSize&&(r=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+r));try{t.send(this._config.downloadRequestBody)}catch(m){this._chunkError(m.message)}b&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(i=>(i=i.getResponseHeader("Content-Range"))!==null?parseInt(i.substring(i.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(i){i=t.statusText||i,this._sendError(new Error(i))}}function k(e){(e=e||{}).chunkSize||(e.chunkSize=n.LocalChunkSize),d.call(this,e);var t,i,s=typeof FileReader<"u";this.stream=function(r){this._input=r,i=r.slice||r.webkitSlice||r.mozSlice,s?((t=new FileReader).onload=oe(this._chunkLoaded,this),t.onerror=oe(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var r=this._input,m=(this._config.chunkSize&&(m=Math.min(this._start+this._config.chunkSize,this._input.size),r=i.call(r,this._start,m)),t.readAsText(r,this._config.encoding));s||this._chunkLoaded({target:{result:m}})},this._chunkLoaded=function(r){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(r.target.result)},this._chunkError=function(){this._sendError(t.error)}}function M(e){var t;d.call(this,e=e||{}),this.stream=function(i){return t=i,this._nextChunk()},this._nextChunk=function(){var i,s;if(!this._finished)return i=this._config.chunkSize,t=i?(s=t.substring(0,i),t.substring(i)):(s=t,""),this._finished=!t,this.parseChunk(s)}}function re(e){d.call(this,e=e||{});var t=[],i=!0,s=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(r){this._input=r,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=oe(function(r){try{t.push(typeof r=="string"?r:r.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(m){this._streamError(m)}},this),this._streamError=oe(function(r){this._streamCleanUp(),this._sendError(r)},this),this._streamEnd=oe(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=oe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function se(e){var t,i,s,r,m=Math.pow(2,53),P=-m,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,g=this,T=0,l=0,K=!1,h=!1,_=[],o={data:[],errors:[],meta:{}};function z(v){return e.skipEmptyLines==="greedy"?v.join("").trim()==="":v.length===1&&v[0].length===0}function j(){if(o&&s&&(X("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+n.DefaultDelimiter+"'"),s=!1),e.skipEmptyLines&&(o.data=o.data.filter(function(c){return!z(c)})),H()){let c=function(F,N){R(e.transformHeader)&&(F=e.transformHeader(F,N)),_.push(F)};if(o)if(Array.isArray(o.data[0])){for(var v=0;H()&&v<o.data.length;v++)o.data[v].forEach(c);o.data.splice(0,1)}else o.data.forEach(c)}function C(c,F){for(var N=e.header?{}:[],E=0;E<c.length;E++){var S=E,y=c[E],y=((Y,f)=>(D=>(e.dynamicTypingFunction&&e.dynamicTyping[D]===void 0&&(e.dynamicTyping[D]=e.dynamicTypingFunction(D)),(e.dynamicTyping[D]||e.dynamicTyping)===!0))(Y)?f==="true"||f==="TRUE"||f!=="false"&&f!=="FALSE"&&((D=>{if(G.test(D)&&(D=parseFloat(D),P<D&&D<m))return 1})(f)?parseFloat(f):J.test(f)?new Date(f):f===""?null:f):f)(S=e.header?E>=_.length?"__parsed_extra":_[E]:S,y=e.transform?e.transform(y,S):y);S==="__parsed_extra"?(N[S]=N[S]||[],N[S].push(y)):N[S]=y}return e.header&&(E>_.length?X("FieldMismatch","TooManyFields","Too many fields: expected "+_.length+" fields but parsed "+E,l+F):E<_.length&&X("FieldMismatch","TooFewFields","Too few fields: expected "+_.length+" fields but parsed "+E,l+F)),N}var B;o&&(e.header||e.dynamicTyping||e.transform)&&(B=1,!o.data.length||Array.isArray(o.data[0])?(o.data=o.data.map(C),B=o.data.length):o.data=C(o.data,0),e.header&&o.meta&&(o.meta.fields=_),l+=B)}function H(){return e.header&&_.length===0}function X(v,C,B,c){v={type:v,code:C,message:B},c!==void 0&&(v.row=c),o.errors.push(v)}R(e.step)&&(r=e.step,e.step=function(v){o=v,H()?j():(j(),o.data.length!==0&&(T+=v.data.length,e.preview&&T>e.preview?i.abort():(o.data=o.data[0],r(o,g))))}),this.parse=function(v,C,B){var c=e.quoteChar||'"',c=(e.newline||(e.newline=this.guessLineEndings(v,c)),s=!1,e.delimiter?R(e.delimiter)&&(e.delimiter=e.delimiter(v),o.meta.delimiter=e.delimiter):((c=((F,N,E,S,y)=>{var Y,f,D,le;y=y||[",","	","|",";",n.RECORD_SEP,n.UNIT_SEP];for(var de=0;de<y.length;de++){for(var te,pe=y[de],W=0,ie=0,q=0,V=(D=void 0,new ee({comments:S,delimiter:pe,newline:N,preview:10}).parse(F)),ae=0;ae<V.data.length;ae++)E&&z(V.data[ae])?q++:(te=V.data[ae].length,ie+=te,D===void 0?D=te:0<te&&(W+=Math.abs(te-D),D=te));0<V.data.length&&(ie/=V.data.length-q),(f===void 0||W<=f)&&(le===void 0||le<ie)&&1.99<ie&&(f=W,Y=pe,le=ie)}return{successful:!!(e.delimiter=Y),bestDelimiter:Y}})(v,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=c.bestDelimiter:(s=!0,e.delimiter=n.DefaultDelimiter),o.meta.delimiter=e.delimiter),_e(e));return e.preview&&e.header&&c.preview++,t=v,i=new ee(c),o=i.parse(t,C,B),j(),K?{meta:{paused:!0}}:o||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,i.abort(),t=R(e.chunk)?"":t.substring(i.getCharIndex())},this.resume=function(){g.streamer._halted?(K=!1,g.streamer.parseChunk(t,!0)):setTimeout(g.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,i.abort(),o.meta.aborted=!0,R(e.complete)&&e.complete(o),t=""},this.guessLineEndings=function(F,c){F=F.substring(0,1048576);var c=new RegExp(L(c)+"([^]*?)"+L(c),"gm"),B=(F=F.replace(c,"")).split("\r"),c=F.split(`
`),F=1<c.length&&c[0].length<B[0].length;if(B.length===1||F)return`
`;for(var N=0,E=0;E<B.length;E++)B[E][0]===`
`&&N++;return N>=B.length/2?`\r
`:"\r"}}function L(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ee(e){var t=(e=e||{}).delimiter,i=e.newline,s=e.comments,r=e.step,m=e.preview,P=e.fastMode,G=null,J=!1,g=e.quoteChar==null?'"':e.quoteChar,T=g;if(e.escapeChar!==void 0&&(T=e.escapeChar),(typeof t!="string"||-1<n.BAD_DELIMITERS.indexOf(t))&&(t=","),s===t)throw new Error("Comment character same as delimiter");s===!0?s="#":(typeof s!="string"||-1<n.BAD_DELIMITERS.indexOf(s))&&(s=!1),i!==`
`&&i!=="\r"&&i!==`\r
`&&(i=`
`);var l=0,K=!1;this.parse=function(h,_,o){if(typeof h!="string")throw new Error("Input must be a string");var z=h.length,j=t.length,H=i.length,X=s.length,v=R(r),C=[],B=[],c=[],F=l=0;if(!h)return W();if(P||P!==!1&&h.indexOf(g)===-1){for(var N=h.split(i),E=0;E<N.length;E++){if(c=N[E],l+=c.length,E!==N.length-1)l+=i.length;else if(o)return W();if(!s||c.substring(0,X)!==s){if(v){if(C=[],le(c.split(t)),ie(),K)return W()}else le(c.split(t));if(m&&m<=E)return C=C.slice(0,m),W(!0)}}return W()}for(var S=h.indexOf(t,l),y=h.indexOf(i,l),Y=new RegExp(L(T)+L(g),"g"),f=h.indexOf(g,l);;)if(h[l]===g)for(f=l,l++;;){if((f=h.indexOf(g,f+1))===-1)return o||B.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:C.length,index:l}),te();if(f===z-1)return te(h.substring(l,f).replace(Y,g));if(g===T&&h[f+1]===T)f++;else if(g===T||f===0||h[f-1]!==T){S!==-1&&S<f+1&&(S=h.indexOf(t,f+1));var D=de((y=y!==-1&&y<f+1?h.indexOf(i,f+1):y)===-1?S:Math.min(S,y));if(h.substr(f+1+D,j)===t){c.push(h.substring(l,f).replace(Y,g)),h[l=f+1+D+j]!==g&&(f=h.indexOf(g,l)),S=h.indexOf(t,l),y=h.indexOf(i,l);break}if(D=de(y),h.substring(f+1+D,f+1+D+H)===i){if(c.push(h.substring(l,f).replace(Y,g)),pe(f+1+D+H),S=h.indexOf(t,l),f=h.indexOf(g,l),v&&(ie(),K))return W();if(m&&C.length>=m)return W(!0);break}B.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:C.length,index:l}),f++}}else if(s&&c.length===0&&h.substring(l,l+X)===s){if(y===-1)return W();l=y+H,y=h.indexOf(i,l),S=h.indexOf(t,l)}else if(S!==-1&&(S<y||y===-1))c.push(h.substring(l,S)),l=S+j,S=h.indexOf(t,l);else{if(y===-1)break;if(c.push(h.substring(l,y)),pe(y+H),v&&(ie(),K))return W();if(m&&C.length>=m)return W(!0)}return te();function le(q){C.push(q),F=l}function de(q){var V=0;return V=q!==-1&&(q=h.substring(f+1,q))&&q.trim()===""?q.length:V}function te(q){return o||(q===void 0&&(q=h.substring(l)),c.push(q),l=z,le(c),v&&ie()),W()}function pe(q){l=q,le(c),c=[],y=h.indexOf(i,l)}function W(q){if(e.header&&!_&&C.length&&!J){var V=C[0],ae={},ve=new Set(V);let ke=!1;for(let ue=0;ue<V.length;ue++){let ne=V[ue];if(ae[ne=R(e.transformHeader)?e.transformHeader(ne,ue):ne]){let me,be=ae[ne];for(;me=ne+"_"+be,be++,ve.has(me););ve.add(me),V[ue]=me,ae[ne]++,ke=!0,(G=G===null?{}:G)[me]=ne}else ae[ne]=1,V[ue]=ne;ve.add(ne)}ke&&console.warn("Duplicate headers found and renamed."),J=!0}return{data:C,errors:B,meta:{delimiter:t,linebreak:i,aborted:K,truncated:!!q,cursor:F+(_||0),renamedHeaders:G}}}function ie(){r(W()),C=[],B=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return l}}function Z(e){var t=e.data,i=x[t.workerId],s=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){s=!0,$(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ye,resume:ye};if(R(i.userStep)){for(var m=0;m<t.results.data.length&&(i.userStep({data:t.results.data[m],errors:t.results.errors,meta:t.results.meta},r),!s);m++);delete t.results}else R(i.userChunk)&&(i.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!s&&$(t.workerId,t.results)}function $(e,t){var i=x[e];R(i.userComplete)&&i.userComplete(t),i.terminate(),delete x[e]}function ye(){throw new Error("Not implemented.")}function _e(e){if(typeof e!="object"||e===null)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=_e(e[t]);return i}function oe(e,t){return function(){e.apply(t,arguments)}}function R(e){return typeof e=="function"}return n.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;if(R(i)&&(t.dynamicTypingFunction=i,i={}),t.dynamicTyping=i,t.transform=!!R(t.transform)&&t.transform,!t.worker||!n.WORKERS_SUPPORTED)return i=null,n.NODE_STREAM_INPUT,typeof e=="string"?(e=(s=>s.charCodeAt(0)!==65279?s:s.slice(1))(e),i=new(t.download?I:M)(t)):e.readable===!0&&R(e.read)&&R(e.on)?i=new re(t):(u.File&&e instanceof File||e instanceof Object)&&(i=new k(t)),i.stream(e);(i=(()=>{var s;return!!n.WORKERS_SUPPORTED&&(s=(()=>{var r=u.URL||u.webkitURL||null,m=a.toString();return n.BLOB_URL||(n.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",m,")();"],{type:"text/javascript"})))})(),(s=new u.Worker(s)).onmessage=Z,s.id=O++,x[s.id]=s)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=R(t.step),t.chunk=R(t.chunk),t.complete=R(t.complete),t.error=R(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},n.unparse=function(e,t){var i=!1,s=!0,r=",",m=`\r
`,P='"',G=P+P,J=!1,g=null,T=!1,l=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||n.BAD_DELIMITERS.filter(function(_){return t.delimiter.indexOf(_)!==-1}).length||(r=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(i=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(J=t.skipEmptyLines),typeof t.newline=="string"&&(m=t.newline),typeof t.quoteChar=="string"&&(P=t.quoteChar),typeof t.header=="boolean"&&(s=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");g=t.columns}t.escapeChar!==void 0&&(G=t.escapeChar+P),t.escapeFormulae instanceof RegExp?T=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(T=/^[=+\-@\t\r].*$/)}})(),new RegExp(L(P),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return K(null,e,J);if(typeof e[0]=="object")return K(g||Object.keys(e[0]),e,J)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||g),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),K(e.fields||[],e.data||[],J);throw new Error("Unable to serialize unrecognized input");function K(_,o,z){var j="",H=(typeof _=="string"&&(_=JSON.parse(_)),typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(_)&&0<_.length),X=!Array.isArray(o[0]);if(H&&s){for(var v=0;v<_.length;v++)0<v&&(j+=r),j+=h(_[v],v);0<o.length&&(j+=m)}for(var C=0;C<o.length;C++){var B=(H?_:o[C]).length,c=!1,F=H?Object.keys(o[C]).length===0:o[C].length===0;if(z&&!H&&(c=z==="greedy"?o[C].join("").trim()==="":o[C].length===1&&o[C][0].length===0),z==="greedy"&&H){for(var N=[],E=0;E<B;E++){var S=X?_[E]:E;N.push(o[C][S])}c=N.join("").trim()===""}if(!c){for(var y=0;y<B;y++){0<y&&!F&&(j+=r);var Y=H&&X?_[y]:y;j+=h(o[C][Y],y)}C<o.length-1&&(!z||0<B&&!F)&&(j+=m)}}return j}function h(_,o){var z,j;return _==null?"":_.constructor===Date?JSON.stringify(_).slice(1,25):(j=!1,T&&typeof _=="string"&&T.test(_)&&(_="'"+_,j=!0),z=_.toString().replace(l,G),(j=j||i===!0||typeof i=="function"&&i(_,o)||Array.isArray(i)&&i[o]||((H,X)=>{for(var v=0;v<X.length;v++)if(-1<H.indexOf(X[v]))return!0;return!1})(z,n.BAD_DELIMITERS)||-1<z.indexOf(r)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?P+z+P:z)}},n.RECORD_SEP="",n.UNIT_SEP="",n.BYTE_ORDER_MARK="\uFEFF",n.BAD_DELIMITERS=["\r",`
`,'"',n.BYTE_ORDER_MARK],n.WORKERS_SUPPORTED=!b&&!!u.Worker,n.NODE_STREAM_INPUT=1,n.LocalChunkSize=10485760,n.RemoteChunkSize=5242880,n.DefaultDelimiter=",",n.Parser=ee,n.ParserHandle=se,n.NetworkStreamer=I,n.FileStreamer=k,n.StringStreamer=M,n.ReadableStreamStreamer=re,u.jQuery&&((A=u.jQuery).fn.parse=function(e){var t=e.config||{},i=[];return this.each(function(m){if(!(A(this).prop("tagName").toUpperCase()==="INPUT"&&A(this).attr("type").toLowerCase()==="file"&&u.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)i.push({file:this.files[P],inputElem:this,instanceConfig:A.extend({},t)})}),s(),this;function s(){if(i.length===0)R(e.complete)&&e.complete();else{var m,P,G,J,g=i[0];if(R(e.before)){var T=e.before(g.file,g.inputElem);if(typeof T=="object"){if(T.action==="abort")return m="AbortError",P=g.file,G=g.inputElem,J=T.reason,void(R(e.error)&&e.error({name:m},P,G,J));if(T.action==="skip")return void r();typeof T.config=="object"&&(g.instanceConfig=A.extend(g.instanceConfig,T.config))}else if(T==="skip")return void r()}var l=g.instanceConfig.complete;g.instanceConfig.complete=function(K){R(l)&&l(K,g.file,g.inputElem),r()},n.parse(g.file,g.instanceConfig)}}function r(){i.splice(0,1),s()}}),w&&(u.onmessage=function(e){e=e.data,n.WORKER_ID===void 0&&e&&(n.WORKER_ID=e.workerId),typeof e.input=="string"?u.postMessage({workerId:n.WORKER_ID,results:n.parse(e.input,e.config),finished:!0}):(u.File&&e.input instanceof File||e.input instanceof Object)&&(e=n.parse(e.input,e.config))&&u.postMessage({workerId:n.WORKER_ID,results:e,finished:!0})}),(I.prototype=Object.create(d.prototype)).constructor=I,(k.prototype=Object.create(d.prototype)).constructor=k,(M.prototype=Object.create(M.prototype)).constructor=M,(re.prototype=Object.create(d.prototype)).constructor=re,n})})(Ee);var Le=Ee.exports;const De=Re(Le),Me={props:{selectedCampaigns:{type:Array,required:!0},campaignAMetrics:{type:Object,default:()=>null},campaignBMetrics:{type:Object,default:()=>null}},computed:{deliveredComparison(){return this.selectedCampaigns.map((U,p)=>{var A,b,w,x,O,n;const a=p===0?this.campaignAMetrics:this.campaignBMetrics;p===0&&((A=a==null?void 0:a.totals)==null||A.emails_delivered);const u=p===1&&((b=a==null?void 0:a.totals)!=null&&b.emails_delivered)&&((x=(w=this.campaignAMetrics)==null?void 0:w.totals)!=null&&x.emails_delivered)?((a.totals.emails_delivered-this.campaignAMetrics.totals.emails_delivered)/this.campaignAMetrics.totals.emails_delivered*100).toFixed(2):0;return{campaign:U||"Not Selected",delivered:((n=(O=a==null?void 0:a.totals)==null?void 0:O.emails_delivered)==null?void 0:n.toLocaleString())||"0",variance:p===0?"Baseline":`${u>0?"+":""}${u}%`}})},entriesComparison(){return this.selectedCampaigns.map((U,p)=>{var A,b,w,x,O,n;const a=p===0?this.campaignAMetrics:this.campaignBMetrics;p===0&&((A=a==null?void 0:a.totals)==null||A.entries);const u=p===1&&((b=a==null?void 0:a.totals)!=null&&b.entries)&&((x=(w=this.campaignAMetrics)==null?void 0:w.totals)!=null&&x.entries)?((a.totals.entries-this.campaignAMetrics.totals.entries)/this.campaignAMetrics.totals.entries*100).toFixed(2):0;return{campaign:U||"Not Selected",entries:((n=(O=a==null?void 0:a.totals)==null?void 0:O.entries)==null?void 0:n.toLocaleString())||"0",variance:p===0?"Baseline":`${u>0?"+":""}${u}%`}})},leadsComparison(){return this.selectedCampaigns.map((U,p)=>{var A,b,w,x,O;const a=p===0?this.campaignAMetrics:this.campaignBMetrics;p===0&&((A=a==null?void 0:a.totals)==null||A.leads);const u=p===1&&((b=a==null?void 0:a.totals)!=null&&b.leads)&&((x=(w=this.campaignAMetrics)==null?void 0:w.totals)!=null&&x.leads)?((a.totals.leads-this.campaignAMetrics.totals.leads)/this.campaignAMetrics.totals.leads*100).toFixed(2):0;return{campaign:U||"Not Selected",leads:Math.round(((O=a==null?void 0:a.totals)==null?void 0:O.leads)||0).toLocaleString(),variance:p===0?"Baseline":`${u>0?"+":""}${u}%`}})},conversionComparison(){return this.selectedCampaigns.map((U,p)=>{var A,b,w,x,O;const a=p===0?this.campaignAMetrics:this.campaignBMetrics;p===0&&((A=a==null?void 0:a.rates)==null||A.conversion_rate);const u=p===1&&((b=a==null?void 0:a.rates)!=null&&b.conversion_rate)&&((x=(w=this.campaignAMetrics)==null?void 0:w.rates)!=null&&x.conversion_rate)?(a.rates.conversion_rate-this.campaignAMetrics.rates.conversion_rate).toFixed(2):0;return{campaign:U||"Not Selected",rate:`${(((O=a==null?void 0:a.rates)==null?void 0:O.conversion_rate)||0).toFixed(2)}%`,variance:p===0?"Baseline":`${u>0?"+":""}${u}%`}})}},methods:{formatDate(U){return new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric"})},exportData(){var A,b,w,x,O,n,d,I,k,M,re;const U=[["Campaign Comparison Summary"],["Generated on:",new Date().toLocaleString()],[""],["Delivered Performance"],["Campaign","Delivered","Variance"],[this.selectedCampaigns[0],(A=this.deliveredComparison[0])==null?void 0:A.delivered,"Baseline"],[this.selectedCampaigns[1],(b=this.deliveredComparison[1])==null?void 0:b.delivered,(w=this.deliveredComparison[1])==null?void 0:w.variance],[""],["Entries Performance"],["Campaign","Entries","Variance"],[this.selectedCampaigns[0],(x=this.entriesComparison[0])==null?void 0:x.entries,"Baseline"],[this.selectedCampaigns[1],(O=this.entriesComparison[1])==null?void 0:O.entries,(n=this.entriesComparison[1])==null?void 0:n.variance],[""],["Leads Performance"],["Campaign","Leads","Variance"],[this.selectedCampaigns[0],(d=this.leadsComparison[0])==null?void 0:d.leads,"Baseline"],[this.selectedCampaigns[1],(I=this.leadsComparison[1])==null?void 0:I.leads,((k=this.leadsComparison[1])==null?void 0:k.variance)||"N/A"],[""],["Daily Metrics"],["Date","Campaign","Delivered","Entries","Leads","Conversion Rate"]];Object.entries(((M=this.campaignAMetrics)==null?void 0:M.dailyMetrics)||{}).forEach(([se,L])=>{var Z,$;const ee=L.metrics.entries?(L.metrics.totalLeads/L.metrics.entries*100).toFixed(2):"0.00";U.push([this.formatDate(se),this.selectedCampaigns[0],((Z=L.metrics.totalDelivered)==null?void 0:Z.toLocaleString())||"0",(($=L.metrics.entries)==null?void 0:$.toLocaleString())||"0",Math.round(L.metrics.totalLeads||0).toLocaleString(),`${ee}%`])}),U.push([""],[""],[""],[""]),Object.entries(((re=this.campaignBMetrics)==null?void 0:re.dailyMetrics)||{}).forEach(([se,L])=>{var Z,$;const ee=L.metrics.entries?(L.metrics.totalLeads/L.metrics.entries*100).toFixed(2):"0.00";U.push([this.formatDate(se),this.selectedCampaigns[1],((Z=L.metrics.totalDelivered)==null?void 0:Z.toLocaleString())||"0",(($=L.metrics.entries)==null?void 0:$.toLocaleString())||"0",Math.round(L.metrics.totalLeads||0).toLocaleString(),`${ee}%`])});const p=De.unparse(U),a=new Blob([p],{type:"text/csv;charset=utf-8;"}),u=`campaign_comparison_${new Date().toISOString().split("T")[0]}.csv`;Oe.saveAs(a,u)}}},Te={class:"d-flex justify-content-between align-items-center"},Be={class:"comparison-metrics"},Fe={class:"metric-group mb-3"},Ie={class:"metric-group mb-3"},je={class:"metric-group mb-3"},Ue={class:"metric-group"};function Pe(U,p,a,u,A,b){const w=he("BCardTitle"),x=he("BButton"),O=he("BCardHeader"),n=he("BTable"),d=he("BCardBody"),I=he("BCard");return Ae(),Se(I,{"no-body":"",class:"h-100"},{default:ge(()=>[ce(O,null,{default:ge(()=>[Q("div",Te,[ce(w,{class:"mb-0"},{default:ge(()=>p[0]||(p[0]=[we("Campaign Comparison Results")])),_:1}),ce(x,{variant:"soft-primary",size:"sm",onClick:b.exportData,disabled:!a.selectedCampaigns[0]||!a.selectedCampaigns[1]},{default:ge(()=>p[1]||(p[1]=[Q("i",{class:"ri-download-2-line align-bottom me-1"},null,-1),we(" Export ")])),_:1},8,["onClick","disabled"])])]),_:1}),ce(d,null,{default:ge(()=>[p[6]||(p[6]=Q("div",null,[Q("h5",{class:"card-title mb-4"},"Campaign Performance Comparison")],-1)),Q("div",Be,[Q("div",Fe,[p[2]||(p[2]=Q("h6",{class:"metric-title"},"Delivered Performance",-1)),ce(n,{small:"",striped:"",hover:"",items:b.deliveredComparison,fields:[{key:"campaign",label:"Campaign"},{key:"delivered",label:"Delivered"},{key:"variance",label:"Variance"}]},null,8,["items"])]),Q("div",Ie,[p[3]||(p[3]=Q("h6",{class:"metric-title"},"Entries Performance",-1)),ce(n,{small:"",striped:"",hover:"",items:b.entriesComparison,fields:[{key:"campaign",label:"Campaign"},{key:"entries",label:"Entries"},{key:"variance",label:"Variance"}]},null,8,["items"])]),Q("div",je,[p[4]||(p[4]=Q("h6",{class:"metric-title"},"Leads Performance",-1)),ce(n,{small:"",striped:"",hover:"",items:b.leadsComparison,fields:[{key:"campaign",label:"Campaign"},{key:"leads",label:"Leads"},{key:"variance",label:"Variance"}]},null,8,["items"])]),Q("div",Ue,[p[5]||(p[5]=Q("h6",{class:"metric-title"},"Conversion Rate Performance",-1)),ce(n,{small:"",striped:"",hover:"",items:b.conversionComparison,fields:[{key:"campaign",label:"Campaign"},{key:"rate",label:"Rate"},{key:"variance",label:"Variance"}]},null,8,["items"])])])]),_:1})]),_:1})}const qe=xe(Me,[["render",Pe],["__scopeId","data-v-6e001f5b"]]);export{qe as default};
