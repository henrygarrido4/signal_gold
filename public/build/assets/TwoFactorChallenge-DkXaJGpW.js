import{b as _,T as I,r as c,d as l,a as o,u as a,f as e,i as R,w as n,F as u,o as r,Z as N,j as S,h as i,k as x,n as f,t as U,q as j}from"./app-BWABJYdq.js";import{_ as D}from"./logo-signal-9z7U6Iga.js";import{_ as b}from"./InputError-B_c1H38P.js";import{_ as w}from"./InputLabel-Kyj4220J.js";import{_ as B}from"./TextInput-BBuMCo87.js";const E={class:"auth-page-wrapper pt-5"},L={class:"auth-page-content"},P={class:"text-center mt-sm-5 mb-4 text-white-50"},$={class:"p-2 mt-4"},z={class:"text-muted text-center mb-4 mx-lg-3"},A={class:"text-sm text-muted"},M={key:0},q={key:1},G={class:"d-flex align-items-center justify-content-end mt-4"},H={class:"footer"},Y={class:"text-center"},Z={class:"mb-0 text-muted"},te={__name:"TwoFactorChallenge",setup(J){const d=_(!1),s=I({code:"",recovery_code:""}),y=_(null),g=_(null),C=async()=>{d.value^=!0,await j(),d.value?(y.value.focus(),s.code=""):(g.value.focus(),s.recovery_code="")},k=()=>{s.post(route("two-factor.login"))};return(K,t)=>{const m=c("BCol"),p=c("BRow"),V=c("BButton"),T=c("BCardBody"),F=c("BCard"),h=c("BContainer");return r(),l(u,null,[o(a(N),{title:"Two Factor Authentication"}),e("div",E,[t[9]||(t[9]=R('<div class="auth-one-bg-position auth-one-bg" id="auth-particles"><div class="bg-overlay"></div><div class="shape"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1440 120"><path d="M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"></path></svg></div></div>',1)),e("div",L,[o(h,null,{default:n(()=>[o(p,null,{default:n(()=>[o(m,{lg:"12"},{default:n(()=>[e("div",P,[e("div",null,[o(a(S),{href:"/",class:"d-inline-block auth-logo"},{default:n(()=>t[2]||(t[2]=[e("img",{src:D,alt:"",height:"70"},null,-1)])),_:1})]),t[3]||(t[3]=e("p",{class:"mt-3 fs-15 fw-medium text-white"},"Real-Time Email Insights & Performance",-1))])]),_:1})]),_:1}),o(p,{class:"justify-content-center"},{default:n(()=>[o(m,{md:"8",lg:"6",xl:"5"},{default:n(()=>[o(F,{"no-body":"",class:"mt-4"},{default:n(()=>[o(T,{class:"p-4"},{default:n(()=>[t[6]||(t[6]=e("div",{class:"mb-4"},[e("div",{class:"avatar-lg mx-auto"},[e("div",{class:"avatar-title bg-light text-primary display-5 rounded-circle"},[e("i",{class:"ri-rotate-lock-line"})])])],-1)),e("div",$,[e("div",z,[t[4]||(t[4]=e("h4",{class:""},"Two Factor Authentication",-1)),e("div",A,[d.value?(r(),l(u,{key:1},[i(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(r(),l(u,{key:0},[i(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))])]),e("form",{onSubmit:x(k,["prevent"])},[d.value?(r(),l("div",q,[o(w,{for:"recovery_code",value:"Recovery Code"}),o(B,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:y,modelValue:a(s).recovery_code,"onUpdate:modelValue":t[1]||(t[1]=v=>a(s).recovery_code=v),type:"text",autocomplete:"one-time-code",class:f({"is-invalid":a(s).errors.recovery_code})},null,8,["modelValue","class"]),o(b,{class:"mt-2",message:a(s).errors.recovery_code},null,8,["message"])])):(r(),l("div",M,[o(w,{for:"code",value:"Code"}),o(B,{id:"code",ref_key:"codeInput",ref:g,modelValue:a(s).code,"onUpdate:modelValue":t[0]||(t[0]=v=>a(s).code=v),type:"text",inputmode:"numeric",autofocus:"",placeholder:"Enter the code that you recieve your authenticator app",autocomplete:"one-time-code",class:f({"is-invalid":a(s).errors.code})},null,8,["modelValue","class"]),o(b,{class:"mt-2",message:a(s).errors.code},null,8,["message"])])),e("div",G,[e("button",{type:"button",class:"btn btn-primary me-1",onClick:x(C,["prevent"])},[d.value?(r(),l(u,{key:1},[i(" Use an authentication code ")],64)):(r(),l(u,{key:0},[i(" Use a recovery code ")],64))]),o(V,{variant:"secondary",type:"submit",class:f({"opacity-25":a(s).processing}),disabled:a(s).processing},{default:n(()=>t[5]||(t[5]=[i("Log in")])),_:1},8,["class","disabled"])])],32)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e("footer",H,[o(h,null,{default:n(()=>[o(p,null,{default:n(()=>[o(m,{lg:"12"},{default:n(()=>[e("div",Y,[e("p",Z,[i("Â© "+U(new Date().getFullYear())+" Signal Dashboard. Crafted with ",1),t[7]||(t[7]=e("i",{class:"mdi mdi-heart text-danger"},null,-1)),t[8]||(t[8]=i(" by Henrry Garrido"))])])]),_:1})]),_:1})]),_:1})])])],64)}}};export{te as default};
