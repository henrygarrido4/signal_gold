import{s as T}from"./simplebar-vue.esm-CZuBtKrH.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as o,c as y,w as r,o as l,a as i,h as _,f as e,t as d,d as c,g,F as b}from"./app-BWABJYdq.js";const D={components:{simplebar:T},props:{allCampaignMetrics:{type:Object,default:()=>({})}},data(){return{sortBy:"leads",isLoading:!0,sortOptions:[{value:"leads",text:"Total Leads"},{value:"entries",text:"Total Entries"},{value:"conversion",text:"Conversion Rate"}]}},watch:{allCampaignMetrics:{immediate:!0,handler(m){this.isLoading=Object.keys(m).length===0}}},computed:{topCampaigns(){return Object.entries(this.allCampaignMetrics).map(([t,a])=>{var u,n,p;return{name:t,entries:((u=a.totals)==null?void 0:u.entries)||0,leads:((n=a.totals)==null?void 0:n.leads)||0,conversionRate:((p=a.rates)==null?void 0:p.conversion_rate)||0}}).sort((t,a)=>{switch(this.sortBy){case"leads":return a.leads-t.leads;case"entries":return a.entries-t.entries;case"conversion":default:return a.conversionRate-t.conversionRate}}).slice(0,20)}}},M={class:"flex-shrink-0"},R={key:0,class:"text-center py-5"},S={key:1,class:"text-center py-3"},N={key:2},j={class:"mx-n3"},E={class:"table-responsive table-card px-3"},F={class:"table align-middle table-borderless table-centered table-nowrap mb-0"};function I(m,t,a,u,n,p){const x=o("BCardTitle"),f=o("BDropdownItem"),h=o("BDropdown"),B=o("BCardHeader"),C=o("BSpinner"),k=o("simplebar"),w=o("BCardBody"),L=o("BCard");return l(),y(L,{"no-body":"",class:"card-height-100"},{default:r(()=>[i(B,{class:"align-items-center d-flex py-0"},{default:r(()=>[i(x,{class:"mb-0 flex-grow-1"},{default:r(()=>t[0]||(t[0]=[_("Top Performing Campaigns MTD")])),_:1}),e("div",M,[i(h,{variant:"soft-primary",size:"sm",right:""},{"button-content":r(()=>{var s;return[t[1]||(t[1]=e("i",{class:"ri-sort-desc me-1 align-bottom"},null,-1)),_(" Sort by "+d((s=n.sortOptions.find(v=>v.value===n.sortBy))==null?void 0:s.text),1)]}),default:r(()=>[(l(!0),c(b,null,g(n.sortOptions,s=>(l(),y(f,{key:s.value,onClick:v=>n.sortBy=s.value,active:n.sortBy===s.value},{default:r(()=>[_(d(s.text),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})])]),_:1}),i(w,null,{default:r(()=>[n.isLoading?(l(),c("div",R,[i(C,{variant:"primary"}),t[2]||(t[2]=e("p",{class:"text-muted mt-2 mb-0"},"Loading campaign data...",-1))])):Object.keys(a.allCampaignMetrics).length?(l(),c("div",N,[e("div",j,[i(k,{"data-simplebar":"","data-simplebar-auto-hide":"false","data-simplebar-track":"primary",style:{"max-height":"300px"}},{default:r(()=>[e("div",E,[e("table",F,[t[4]||(t[4]=e("thead",{class:"text-muted table-light"},[e("tr",null,[e("th",{scope:"col",style:{"min-width":"200px"}},"Campaign Name"),e("th",{scope:"col",style:{"min-width":"100px"}},"Entries"),e("th",{scope:"col",style:{"min-width":"100px"}},"Leads"),e("th",{scope:"col",style:{"min-width":"120px"}},"Conversion Rate")])],-1)),e("tbody",null,[(l(!0),c(b,null,g(p.topCampaigns,s=>(l(),c("tr",{key:s.name},[e("td",null,d(s.name),1),e("td",null,d(s.entries.toLocaleString()),1),e("td",null,d(Math.round(s.leads).toLocaleString()),1),e("td",null,d(s.conversionRate.toFixed(2))+"%",1)]))),128))])])])]),_:1})])])):(l(),c("div",S,t[3]||(t[3]=[e("p",{class:"text-muted mb-0"},"No campaign data available",-1)])))]),_:1})]),_:1})}const z=O(D,[["render",I],["__scopeId","data-v-ca0a486f"]]);export{z as default};
