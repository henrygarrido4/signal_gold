import{Z as W,j as J,H as E,r as d,c as v,w as a,o as p,a as l,d as f,g as L,f as t,t as u,n as x,h as m,e as g,F as M,l as X,J as Y}from"./app-BWABJYdq.js";import{F as z,a as Z,b as G,X as K}from"./vue-feather-icons.es-DhCg6NIe.js";import{s as $}from"./default-Jr7rUdQV.js";import{C as ee}from"./component-GK_D4hhz.js";/* empty css                  */import{L as te}from"./main-BZMVmuB9.js";import{P as se}from"./page-header-CWp0LBfO.js";import{S as oe}from"./sweetalert2.esm.all-CumHaNCI.js";import{a as ne}from"./msoeawqm-Cg0RqasO.js";import{a as le}from"./gsqxdxog-DrHTRIvl.js";import{L as ae}from"./lottie-CsSeM3tt.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./simplebar-vue.esm-CZuBtKrH.js";import"./avatar-2-C9CWE8xV.js";import"./avatar-3-CcIxMpdW.js";import"./avatar-5-BPjc6EDL.js";import"./russia-pMTSjNGF.js";import"./logo-signal-9z7U6Iga.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-BfYujB8V.js";const re={data(){return{config:{mode:"range",wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y"},date:null,page:1,status:null,status1:null,invoiceListModal:!1,perPage:9,pages:[],value:null,searchQuery:null,invoiceWidgets:[{id:1,label:"Invoices Sent",percentage:"+89.24 %",percentageClass:"success",icon:"ri-arrow-right-up-line",counter:"559.25",badge:"2,258",caption:"Invoices sent",feaIcon:"file-text",decimals:1,prefix:"$",suffix:"k"},{id:2,label:"Paid Invoices",percentage:"+8.09 %",percentageClass:"danger",icon:"ri-arrow-right-down-line",counter:"409.66",badge:"1,958",caption:"Paid by clients",feaIcon:"check-square",decimals:2,prefix:"$",suffix:"k"},{id:3,label:"Unpaid Invoices",percentage:"+9.01 %",percentageClass:"danger",icon:"ri-arrow-right-down-line",counter:"136.98",badge:"338",caption:"Unpaid by clients",feaIcon:"clock",decimals:2,prefix:"$",suffix:"k"},{id:4,label:"Cancelled Invoices",percentage:"+7.55 %",percentageClass:"success",icon:"ri-arrow-right-up-line",counter:"84.2",badge:"502",caption:"Cancelled by clients",feaIcon:"x-octagon",decimals:1,prefix:"$",suffix:"k"}],invoiceList:[],defaultOptions:{animationData:ne},defaultOptions1:{animationData:le},deleteModal:!1,event:{_id:""}}},components:{Layout:te,PageHeader:se,Multiselect:$,lottie:ae,flatPickr:ee,FileTextIcon:z,CheckSquareIcon:Z,ClockIcon:G,XOctagonIcon:K,Head:W,Link:J},computed:{displayedPosts(){return this.paginate(this.invoiceList)},resultQuery(){if(this.searchQuery){const n=this.searchQuery.toLowerCase();return this.displayedPosts.filter(e=>e.invoiceId.toLowerCase().includes(n)||e.name.toLowerCase().includes(n)||e.email.toLowerCase().includes(n)||e.country.toLowerCase().includes(n)||e.date.toLowerCase().includes(n)||e.time.toLowerCase().includes(n)||e.amount.toString().toLowerCase().includes(n)||e.status.toLowerCase().includes(n))}else return this.status!==null?this.displayedPosts.filter(n=>n.status===this.status||this.status=="all"?n:null):this.displayedPosts}},watch:{invoiceList(){this.setPages()}},created(){this.setPages()},filters:{trimWords(n){return n.split(" ").splice(0,20).join(" ")+"..."}},methods:{SearchData(){this.status=this.status1},deleteMultiple(){let n=[];var e=document.getElementsByName("chk_child");if(e.forEach(function(o){if(o.checked==!0){var i=o.parentNode.parentNode.parentNode,b=i.querySelector(".id a").innerHTML;n.push(b)}}),typeof n<"u"&&n.length>0)if(confirm("Are you sure you want to delete this?")){var r=this.invoiceList;n.forEach(function(o){r=r.filter(function(i){return i.invoiceId!=o})}),this.invoiceList=r,document.getElementById("checkAll").checked=!1;var c=document.getElementsByName("chk_child");c.forEach(function(o){o.checked==!0&&(o.checked=!1,o.closest("tr").classList.remove("table-active"))})}else return!1;else oe.fire({title:"Please select at least one checkbox",confirmButtonClass:"btn btn-info",buttonsStyling:!1,showCloseButton:!0})},setPages(){let n=Math.ceil(this.invoiceList.length/this.perPage);this.pages=[];for(let e=1;e<=n;e++)this.pages.push(e)},paginate(n){let e=this.page,r=this.perPage,c=e*r-r,o=e*r;return n.slice(c,o)},deleteModalToggle(n){this.deleteModal=!0,this.event._id=n._id},deleteData(){this.event._id&&(E.delete(`https://api-node.themesbrand.website/apps/invoice/${this.event._id}`).then(n=>{n.data.status==="success"&&(this.invoiceList=this.invoiceList.filter(e=>e._id!=this.event._id))}).catch(n=>{console.log(n)}),this.deleteModal=!1)},onSort(n){this.direction=this.direction==="asc"?"desc":"asc";const e=[...this.invoiceList];e.sort((r,c)=>{const o=r[n]<c[n]?-1:r[n]>c[n]?1:0;return this.direction==="asc"?o:-o}),this.invoiceList=e}},beforeMount(){E.get("https://api-node.themesbrand.website/apps/invoice").then(n=>{this.invoiceList=[];const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.data.data.forEach(r=>{var c=new Date(r.date),o=c.getHours(),i=c.getMinutes(),b=o>=12?"PM":"AM";o=o%12,o=o||12,o=o<10?"0"+o:o,i=i<10?"0"+i:i;var k=o+":"+i+" "+b,C=c.getDate()<10?"0"+c.getDate():c.getDate();r.date=C+" "+e[c.getMonth()]+", "+c.getFullYear(),r.time=k,r.image_src="https://api-node.themesbrand.website/images/users/"+r.img,this.invoiceList.push(r)})}).catch(n=>{console.log(n)})},mounted(){var n=document.getElementById("checkAll");n&&(n.onclick=function(){var r=document.querySelectorAll('.form-check-all input[type="checkbox"]');n.checked==!0?r.forEach(function(c){c.checked=!0,c.closest("tr").classList.add("table-active"),document.getElementById("remove-actions").style.display="block"}):r.forEach(function(c){c.checked=!1,c.closest("tr").classList.remove("table-active"),document.getElementById("remove-actions").style.display="none"})});var e=document.querySelectorAll("#invoiceList .form-check-input");Array.from(e).forEach(function(r){r.addEventListener("change",function(c){var o=document.querySelectorAll("#invoiceList .form-check-input:checked").length;c.target.closest("tr").classList.contains("table-active"),o>0?document.getElementById("remove-actions").style.display="block":document.getElementById("remove-actions").style.display="none"})})}},ce={class:"d-flex align-items-center"},de={class:"flex-grow-1"},ue={class:"text-uppercase fw-medium text-muted mb-0"},me={class:"flex-shrink-0"},pe={class:"d-flex align-items-end justify-content-between mt-4"},fe={class:"fs-22 fw-semibold ff-secondary mb-4"},ge={class:"text-muted"},he={class:"avatar-sm flex-shrink-0"},ve={class:"avatar-title bg-light rounded fs-3"},be={class:"d-flex align-items-center"},ye={class:"flex-shrink-0"},_e={class:"d-flex gap-2 flex-wrap"},xe={class:"search-box"},ke={class:"input-light"},Ce={class:"table-responsive table-card"},we={class:"table align-middle table-nowrap",id:"invoiceTable"},Ie={class:"text-muted"},Be={class:"list form-check-all"},Le={class:"id"},Me={class:"customer_name"},Se={key:0,class:"d-flex align-items-center"},Pe=["src"],De={key:1,class:"d-flex align-items-center"},Ae={class:"flex-shrink-0 avatar-xs me-2"},Ee={class:"avatar-title bg-success-subtle text-success rounded-circle fs-13"},Ve={class:"email"},Fe={class:"country"},Te={class:"date"},qe={class:"text-muted"},Ne={class:"invoice_amount"},Oe={class:"status"},He={key:0,class:"noresult"},Qe={class:"text-center"},Ue={key:0,class:"d-flex justify-content-end mt-3"},je={class:"pagination-wrap hstack gap-2"},Re={class:"pagination listjs-pagination mb-0"},We=["onClick"],Je={class:"mt-2 text-center"},Xe={class:"d-flex gap-2 justify-content-center mt-4 mb-2"};function Ye(n,e,r,c,o,i){const b=d("PageHeader"),k=d("BBadge"),C=d("FileTextIcon"),V=d("CheckSquareIcon"),F=d("ClockIcon"),T=d("XOctagonIcon"),w=d("BCardBody"),S=d("BCard"),h=d("BCol"),I=d("BRow"),P=d("BButton"),D=d("Link"),q=d("BCardHeader"),N=d("flat-pickr"),O=d("Multiselect"),H=d("b-form"),_=d("BDropdownItem"),Q=d("BDropdown"),A=d("lottie"),B=d("BLink"),U=d("BModal"),j=d("Layout");return p(),v(j,null,{default:a(()=>[l(b,{title:"Invoice List",pageTitle:"Invoices"}),l(I,null,{default:a(()=>[(p(!0),f(M,null,L(o.invoiceWidgets,(s,y)=>(p(),v(h,{xl:"3",md:"6",key:y},{default:a(()=>[l(S,{"no-body":"",class:"card-animate"},{default:a(()=>[l(w,null,{default:a(()=>[t("div",ce,[t("div",de,[t("p",ue,u(s.label),1)]),t("div",me,[t("h5",{class:x(`text-${s.percentageClass} fs-14 mb-0`)},[t("i",{class:x(`${s.icon} fs-13 align-middle`)},null,2),m(" "+u(s.percentage),1)],2)])]),t("div",pe,[t("div",null,[t("h4",fe,u(s.prefix)+u(s.counter)+u(s.suffix),1),l(k,{class:"bg-secondary me-1"},{default:a(()=>[m(u(s.badge),1)]),_:2},1024),e[15]||(e[15]=m()),t("span",ge,u(s.caption),1)]),t("div",he,[t("span",ve,[s.feaIcon=="file-text"?(p(),v(C,{key:0,class:"text-primary icon-md icon-dual-primary"})):g("",!0),s.feaIcon=="check-square"?(p(),v(V,{key:1,class:"text-primary icon-md icon-dual-primary"})):g("",!0),s.feaIcon=="clock"?(p(),v(F,{key:2,class:"text-primary icon-md icon-dual-primary"})):g("",!0),s.feaIcon=="x-octagon"?(p(),v(T,{key:3,class:"text-primary icon-md icon-dual-primary"})):g("",!0)])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),l(I,null,{default:a(()=>[l(h,{lg:"12"},{default:a(()=>[l(S,{"no-body":"",id:"invoiceList"},{default:a(()=>[l(q,{class:"border-0"},{default:a(()=>[t("div",be,[e[18]||(e[18]=t("h5",{class:"card-title mb-0 flex-grow-1"},"Invoices",-1)),t("div",ye,[t("div",_e,[l(P,{variant:"primary",class:"me-1",id:"remove-actions",onClick:i.deleteMultiple},{default:a(()=>e[16]||(e[16]=[t("i",{class:"ri-delete-bin-2-line"},null,-1)])),_:1},8,["onClick"]),l(D,{href:"/invoices/create",class:"btn btn-secondary"},{default:a(()=>e[17]||(e[17]=[t("i",{class:"ri-add-line align-bottom me-1"},null,-1),m(" Create Invoice")])),_:1})])])])]),_:1}),l(w,{class:"bg-light-subtle border border-dashed border-start-0 border-end-0"},{default:a(()=>[l(H,null,{default:a(()=>[l(I,{class:"g-3"},{default:a(()=>[l(h,{xxl:"5",sm:"12"},{default:a(()=>[t("div",xe,[X(t("input",{type:"text",class:"form-control search bg-light border-light","onUpdate:modelValue":e[0]||(e[0]=s=>o.searchQuery=s),placeholder:"Search for customer, email, country, status or something..."},null,512),[[Y,o.searchQuery]]),e[19]||(e[19]=t("i",{class:"ri-search-line search-icon"},null,-1))])]),_:1}),l(h,{xxl:"3",sm:"4"},{default:a(()=>[l(N,{modelValue:o.date,"onUpdate:modelValue":e[1]||(e[1]=s=>o.date=s),config:o.config,class:"form-control bg-light border-light",placeholder:"Select date"},null,8,["modelValue","config"])]),_:1}),l(h,{xxl:"3",sm:"4"},{default:a(()=>[t("div",ke,[l(O,{class:"form-control",modelValue:o.status1,"onUpdate:modelValue":e[2]||(e[2]=s=>o.status1=s),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"all",label:"all"},{value:"Unpaid",label:"Unpaid"},{value:"Paid",label:"Paid"},{value:"Cancel",label:"Cancel"},{value:"Refund",label:"Refund"}]},null,8,["modelValue"])])]),_:1}),l(h,{xxl:"1",sm:"4"},{default:a(()=>[l(P,{type:"button",variant:"primary",class:"w-100",onClick:i.SearchData},{default:a(()=>e[20]||(e[20]=[t("i",{class:"ri-equalizer-fill me-1 align-bottom"},null,-1),m(" Filters ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),l(w,null,{default:a(()=>[t("div",null,[t("div",Ce,[t("table",we,[t("thead",Ie,[t("tr",null,[e[21]||(e[21]=t("th",{scope:"col",style:{width:"50px"}},[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"checkAll",value:"option"})])],-1)),t("th",{class:"sort text-uppercase","data-sort":"invoice_id",onClick:e[3]||(e[3]=s=>i.onSort("invoiceId"))},"ID"),t("th",{class:"sort text-uppercase","data-sort":"customer_name",onClick:e[4]||(e[4]=s=>i.onSort("name"))},"Customer"),t("th",{class:"sort text-uppercase","data-sort":"email",onClick:e[5]||(e[5]=s=>i.onSort("email"))},"Email"),t("th",{class:"sort text-uppercase","data-sort":"country",onClick:e[6]||(e[6]=s=>i.onSort("country"))},"Country"),t("th",{class:"sort text-uppercase","data-sort":"date",onClick:e[7]||(e[7]=s=>i.onSort("date"))},"Date"),t("th",{class:"sort text-uppercase","data-sort":"invoice_amount",onClick:e[8]||(e[8]=s=>i.onSort("amount"))},"Amount"),t("th",{class:"sort text-uppercase","data-sort":"status",onClick:e[9]||(e[9]=s=>i.onSort("status"))},"Payment Status"),e[22]||(e[22]=t("th",{class:"sort text-uppercase","data-sort":"action"},"Action",-1))])]),t("tbody",Be,[(p(!0),f(M,null,L(i.resultQuery,(s,y)=>(p(),f("tr",{key:y},[e[29]||(e[29]=t("th",{scope:"row"},[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",name:"chk_child",value:"option1"})])],-1)),t("td",Le,[l(D,{href:"/invoices/detail",class:"fw-medium link-primary"},{default:a(()=>[m(u(s.invoiceId),1)]),_:2},1024)]),t("td",Me,[s.img?(p(),f("div",Se,[t("img",{src:s.image_src,alt:"",class:"avatar-xs rounded-circle me-2"},null,8,Pe),m(" "+u(s.name),1)])):g("",!0),s.img?g("",!0):(p(),f("div",De,[t("div",Ae,[t("div",Ee,u(s.name.charAt(0)),1)]),m(" "+u(s.name),1)]))]),t("td",Ve,u(s.email),1),t("td",Fe,u(s.country),1),t("td",Te,[m(u(s.date)+" ",1),t("small",qe,u(s.time),1)]),t("td",Ne,"$"+u(s.amount),1),t("td",Oe,[t("span",{class:x(["badge text-uppercase",{"bg-success-subtle text-success":s.status=="Paid","bg-warning-subtle text-warning":s.status=="Unpaid","bg-danger-subtle text-danger":s.status=="Cancel","bg-primary-subtle text-primary":s.status=="Refund","bg-info-subtle text-info":s.status=="Active"}])},u(s.status),3)]),t("td",null,[l(Q,{variant:"link",class:"card-header-dropdown","toggle-class":"btn btn-soft-secondary btn-sm arrow-none","menu-class":"dropdown-menu-end",offset:{alignmentAxis:-130,crossAxis:0,mainAxis:10}},{"button-content":a(()=>e[23]||(e[23]=[t("i",{class:"ri-more-fill align-middle"},null,-1)])),default:a(()=>[l(_,{to:"/invoices/detail"},{default:a(()=>e[24]||(e[24]=[t("i",{class:"ri-eye-fill align-bottom me-2 text-muted"},null,-1),m("View")])),_:1}),l(_,{to:"/invoices/create"},{default:a(()=>e[25]||(e[25]=[t("i",{class:"ri-pencil-fill align-bottom me-2 text-muted"},null,-1),m("Edit")])),_:1}),l(_,null,{default:a(()=>e[26]||(e[26]=[t("i",{class:"ri-download-2-line align-bottom me-2 text-muted"},null,-1),m("Download ")])),_:1}),e[28]||(e[28]=t("li",{class:"dropdown-divider"},null,-1)),l(_,{onClick:R=>i.deleteModalToggle(s)},{default:a(()=>e[27]||(e[27]=[t("i",{class:"ri-delete-bin-fill align-bottom me-2 text-muted"},null,-1),m("Delete ")])),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])]),i.resultQuery.length<1?(p(),f("div",He,[t("div",Qe,[l(A,{class:"avatar-xl",colors:"primary:#121331,secondary:#08a88a",options:o.defaultOptions,height:75,width:75},null,8,["options"]),e[30]||(e[30]=t("h5",{class:"mt-2"},"Sorry! No Result Found",-1)),e[31]||(e[31]=t("p",{class:"text-muted mb-0"},"We've searched more than 150+ Orders We did not find any orders for you search.",-1))])])):g("",!0)]),i.resultQuery.length>=1?(p(),f("div",Ue,[t("div",je,[l(B,{class:"page-item pagination-prev",href:"#",disabled:o.page<=1,onClick:e[10]||(e[10]=s=>o.page--)},{default:a(()=>e[32]||(e[32]=[m(" Previous ")])),_:1},8,["disabled"]),t("ul",Re,[(p(!0),f(M,null,L(o.pages,(s,y)=>(p(),f("li",{class:x({active:s==o.page,disabled:s=="..."}),key:y,onClick:R=>o.page=s},[l(B,{class:"page",href:"#"},{default:a(()=>[m(u(s),1)]),_:2},1024)],10,We))),128))]),l(B,{class:"page-item pagination-next",href:"#",disabled:o.page>=o.pages.length,onClick:e[11]||(e[11]=s=>o.page++)},{default:a(()=>e[33]||(e[33]=[m(" Next ")])),_:1},8,["disabled"])])])):g("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),l(U,{modelValue:o.deleteModal,"onUpdate:modelValue":e[14]||(e[14]=s=>o.deleteModal=s),"modal-class":"zoomIn","hide-footer":"","no-close-on-backdrop":"",centered:""},{default:a(()=>[t("div",Je,[l(A,{class:"avatar-xl",colors:"primary:#f7b84b,secondary:#f06548",options:o.defaultOptions1,height:75,width:75},null,8,["options"]),e[34]||(e[34]=t("div",{class:"mt-4 pt-2 fs-15 mx-4 mx-sm-5"},[t("h4",null,"Are you sure ?"),t("p",{class:"text-muted mx-4 mb-0"},"Are you sure you want to remove this record ?")],-1))]),t("div",Xe,[t("button",{type:"button",class:"btn w-sm btn-light",onClick:e[12]||(e[12]=s=>o.deleteModal=!1)},"Close"),t("button",{type:"button",class:"btn w-sm btn-danger",id:"delete-record",onClick:e[13]||(e[13]=(...s)=>i.deleteData&&i.deleteData(...s))},"Yes, Delete It!")])]),_:1},8,["modelValue"])]),_:1})}const gt=ie(re,[["render",Ye]]);export{gt as default};
