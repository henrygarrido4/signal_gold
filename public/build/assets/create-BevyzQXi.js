import{b as E,A as H,B,r as b,c as V,w as u,H as N,o as d,a as n,f as s,l as I,J as A,d as c,t as p,e as f,g as S,h as j,F as P,k as z,n as L}from"./app-BWABJYdq.js";import{s as q}from"./default-Jr7rUdQV.js";import{C as J,a as W}from"./ckeditor-BZuOtOhd.js";import{D as K}from"./dropZone-Bbobq0V3.js";import{u as Y}from"./index-BZ-N9a-z.js";import{L as X}from"./main-BZMVmuB9.js";import{P as G}from"./page-header-CWp0LBfO.js";import{C as Q}from"./component-GK_D4hhz.js";/* empty css                  */import{S as w}from"./sweetalert2.esm.all-CumHaNCI.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue.runtime.esm-bundler-tO8S5YYY.js";import"./simplebar-vue.esm-CZuBtKrH.js";import"./avatar-2-C9CWE8xV.js";import"./avatar-3-CcIxMpdW.js";import"./avatar-5-BPjc6EDL.js";import"./russia-pMTSjNGF.js";import"./logo-signal-9z7U6Iga.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-BfYujB8V.js";class O{constructor(e){this.loader=e}upload(){return this.loader.file.then(e=>new Promise((a,o)=>{if(e.size>2097152){o("File size exceeds 2MB limit");return}const r=new FormData;r.append("image",e),N.post("/api/ckeditor/upload",r,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{a({default:m.data.url})}).catch(m=>{o(m)})}))}abort(){}}function $(t){t.plugins.get("FileRepository").createUploadAdapter=e=>new O(e)}const ee={props:{users:{type:Array,required:!1,default:()=>[]},project:{type:Object,required:!1,default:null},mode:{type:String,default:"create"}},setup(){let t=E([]),e=E(""),a=E("");const o=h=>h.size/1048576>2?(a.value=`File ${h.name} exceeds 2MB limit`,!1):!0,i=h=>{h.preventDefault(),a.value="";const v=h.dataTransfer.files;for(let g=0;g<v.length;g++)o(v[g])&&t.value.push(v[g])},r=h=>{a.value="";const v=h.target.files;for(let g=0;g<v.length;g++)o(v[g])&&t.value.push(v[g])};H(()=>[...t.value],h=>h);const m=h=>{t.value.splice(h,1)};return{dropzoneFile:e,files:t,drop:i,selectedFile:r,v$:Y(),deleteRecord:m,fileError:a}},data(){var t,e,a,o,i,r,m,h,v,g,D,F,_,x,k,y,C;return{value:((t=this.project)==null?void 0:t.skills)||["HTML","CSS","Figma"],value1:(e=this.project)!=null&&e.status?[(a=this.project)==null?void 0:a.status]:["Completed"],value2:(o=this.project)!=null&&o.priority?[(i=this.project)==null?void 0:i.priority]:["High"],value3:(r=this.project)!=null&&r.privacy?[(m=this.project)==null?void 0:m.privacy]:["Private"],value4:(h=this.project)!=null&&h.category?[this.project.category]:["Development"],value5:((v=this.project)==null?void 0:v.team_lead)||null,editor:J,editorConfig:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","undo","redo"],extraPlugins:[$],image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"],upload:{types:["jpeg","png","gif","bmp","webp","tiff"]},styles:{options:["block","side"]},resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,label:"Original"},{name:"resizeImage:100",value:"100",label:"100%"}]},customUploadAdapter:M=>new O(M),uploadFailedMessage:"Image upload failed: File size must be less than 2MB."},editorData:((g=this.project)==null?void 0:g.description)||"<p></p>",content:"<h1>Some initial content</h1>",projectTitle:((D=this.project)==null?void 0:D.title)||"",projectThumbnail:null,date:((F=this.project)==null?void 0:F.deadline)||null,config:{enableTime:!1,dateFormat:"Y-m-d"},thumbnailError:null,maxFileSize:2,selectedTeamMembers:((x=(_=this.project)==null?void 0:_.team_members)==null?void 0:x.map(M=>M.id))||[],errors:{projectTitle:"",description:"",priority:"",status:"",deadline:"",privacy:"",category:"",team_lead:"",team_members:""},files:[],previewFiles:[],existingThumbnail:((k=this.project)==null?void 0:k.thumbnail_url)||"/images/sm-signal.png",existingThumbnailName:((y=this.project)==null?void 0:y.thumbnail_name)||"default-thumbnail",existingFiles:((C=this.project)==null?void 0:C.attached_files)||[],submitUrl:this.mode==="edit"?`/apps/projects/${this.project.id}`:"/apps/projects-store",isSubmitting:!1,showMembersModal:!1,searchTerm:"",defaultThumbnailPath:"/images/sm-signal.png"}},computed:{userOptions(){var t;return((t=this.users)==null?void 0:t.map(e=>{const a=e.profile_photo_path?window.location.origin+"/storage/"+e.profile_photo_path:null;return{value:e.id,label:e.name,email:e.email,avatar:a}}))||[]},selectedTeamMembersWithData(){return!this.selectedTeamMembers||!this.users?[]:this.selectedTeamMembers.map(t=>{const e=this.users.find(a=>a.id===t);return e?{value:e.id,label:e.name,email:e.email,avatar:e.profile_photo_path?window.location.origin+"/storage/"+e.profile_photo_path:null}:null}).filter(Boolean)},currentSubmitUrl(){return this.mode==="edit"?`/projects/${this.project.id}`:"/projects"},isPrivate(){return(Array.isArray(this.value3)?this.value3[0]:this.value3)==="Private"},filteredUsers(){if(!this.searchTerm)return this.userOptions;const t=this.searchTerm.toLowerCase();return this.userOptions.filter(e=>e.label.toLowerCase().includes(t)||e.email.toLowerCase().includes(t))},displayCategory(){var e;const t={D:"Designing",DV:"Development"};return(e=this.project)!=null&&e.category?t[this.project.category]||this.project.category:"Designing"},isDefaultThumbnail(){var t;return(t=this.existingThumbnail)==null?void 0:t.includes("sm-signal.png")}},methods:{validateThumbnail(t){return t.size/1048576>this.maxFileSize?(this.thumbnailError=`File size must be less than ${this.maxFileSize}MB`,this.projectThumbnail=null,!1):(this.thumbnailError=null,!0)},handleThumbnailChange(t){const e=t.target.files[0];e&&this.validateThumbnail(e)&&(this.projectThumbnail=e,this.existingThumbnail=URL.createObjectURL(e),this.existingThumbnailName=e.name)},validateForm(){var e;let t=!0;return Object.keys(this.errors).forEach(a=>this.errors[a]=""),this.projectTitle.trim()||(this.errors.projectTitle="Project title is required",t=!1),(!this.editorData||this.editorData==="<p></p>")&&(this.errors.description="Project description is required",t=!1),(!this.value2||!this.value2.length)&&(this.errors.priority="Priority is required",t=!1),(!this.value1||!this.value1.length)&&(this.errors.status="Status is required",t=!1),this.date||(this.errors.deadline="Deadline is required",t=!1),(!this.value3||!this.value3.length)&&(this.errors.privacy="Privacy setting is required",t=!1),(e=this.value4)!=null&&e.length||(this.errors.category="Category is required",t=!1),this.isPrivate||(this.value5||(this.errors.team_lead="Team lead is required",t=!1),this.selectedTeamMembers.length||(this.errors.team_members="At least one team member is required",t=!1)),t},submitProject(){var o,i,r;if(!this.validateForm())return;const t=new FormData;t.append("title",this.projectTitle),t.append("description",this.editorData),t.append("priority",((o=this.value2)==null?void 0:o[0])||"High"),t.append("status",((i=this.value1)==null?void 0:i[0])||"In Progress"),t.append("deadline",this.date);const e=Array.isArray(this.value3)?this.value3[0]:this.value3;t.append("privacy",e||"Private");const a=Array.isArray(this.value4)?this.value4[0]:this.value4;t.append("category",a),t.append("skills",JSON.stringify(this.value||[])),e!=="Private"?(t.append("team_lead",this.value5),t.append("team_members",JSON.stringify(this.selectedTeamMembers))):(t.append("team_lead",""),t.append("team_members",JSON.stringify([]))),this.projectThumbnail?t.append("thumbnail",this.projectThumbnail):this.isDefaultThumbnail&&t.append("use_default_thumbnail","1"),this.existingFiles.length>0&&t.append("existing_files",JSON.stringify(this.existingFiles)),this.files.length>0&&this.files.forEach(m=>{t.append("attached_files[]",m)}),this.mode==="edit"&&((r=this.project)!=null&&r.id)?(t.append("_method","PUT"),B.post(`/apps/projects/${this.project.id}`,t,{onSuccess:()=>{B.visit("/apps/projects-list")},onError:m=>{this.handleErrors(m)}})):B.post("/apps/projects-store",t,{onSuccess:()=>{B.visit("/apps/projects-list")},onError:m=>{this.handleErrors(m)}})},handleErrors(t){console.error("Submission errors:",t),this.errors=t,w.fire({title:"Error",text:"Please check the form for errors",icon:"error",showConfirmButton:!0,confirmButtonColor:"#34c38f",confirmButtonText:"Ok"})},initializeTooltips(){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(a=>{const o=bootstrap.Tooltip.getInstance(a);o&&o.dispose()}),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(a=>new bootstrap.Tooltip(a,{trigger:"hover",html:!0,animation:!0,delay:{show:0,hide:0}}))},handleFileSelect(t){const a=Array.from(t.target.files),o=[],i=[];a.forEach(r=>{r.size>2097152?o.push(r.name):i.push(r)}),o.length>0&&w.fire({title:"Error!",text:`File(s) too large: ${o.join(", ")}. Maximum size is 2MB per file.`,icon:"error",confirmButtonColor:"#34c38f",confirmButtonText:"Ok"}),i.length>0&&(this.files=[...this.files,...i],i.forEach(r=>{this.previewFiles.push({name:r.name,size:this.formatFileSize(r.size),type:r.type,preview:r.type.startsWith("image/")?URL.createObjectURL(r):null})})),t.target.value=""},removeFile(t){var e,a;if(this.mode==="edit"&&t<(((e=this.existingFiles)==null?void 0:e.length)||0))this.existingFiles.splice(t,1);else{const o=this.mode==="edit"?t-(((a=this.existingFiles)==null?void 0:a.length)||0):t;o>=0&&o<this.files.length&&(this.files.splice(o,1),this.previewFiles.splice(o,1))}},formatFileSize(t){if(t===0)return"0 Bytes";const e=1024,a=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,o)).toFixed(2))+" "+a[o]},clearFileInput(){const t=this.$refs.fileInput;t&&(t.value="")},removeExistingThumbnail(){this.isDefaultThumbnail||(this.existingThumbnail="/images/sm-signal.png",this.existingThumbnailName="default-thumbnail",this.projectThumbnail=null)},removeExistingFile(t){this.existingFiles.splice(t,1)},async downloadFile(t){try{const a=await(await fetch(t.download_url)).blob(),o=window.URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.download=t.name,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(o),document.body.removeChild(i)}catch(e){console.error("Download error:",e),w.fire({title:"Error",text:"Failed to download file. Please try again.",icon:"error",confirmButtonText:"Ok"})}},handleDownload(t){const e=t.path.split("/").pop(),a=route("projects.download",{filename:e,download:1});fetch(a).then(async o=>{if(!o.ok){const i=await o.json().catch(()=>null);throw new Error((i==null?void 0:i.message)||`HTTP error! status: ${o.status}`)}window.location.href=a}).catch(o=>{console.error("Download failed:",o),w.fire({title:"Error",text:`Failed to download file: ${o.message}`,icon:"error",confirmButtonText:"Ok"})})},confirmFileRemoval(t){w.fire({title:"Are you sure?",text:`You want to delete ${t.name}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(e=>{var a,o;if(e.isConfirmed){const i=(a=this.existingFiles)==null?void 0:a.some(r=>r.name===t.name);if(this.mode==="edit"&&((o=this.project)!=null&&o.id)&&i)B.delete(route("projects.delete-file",{project:this.project.id,filename:encodeURIComponent(t.name)}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{const r=this.existingFiles.findIndex(m=>m.name===t.name);r!==-1&&(this.existingFiles=[...this.existingFiles.slice(0,r),...this.existingFiles.slice(r+1)]),w.fire({title:"Deleted!",text:"File has been deleted successfully.",icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0})},onError:r=>{w.fire({title:"Error!",text:(r==null?void 0:r.message)||"Failed to delete file.",icon:"error",confirmButtonColor:"#34c38f",confirmButtonText:"Ok"})}});else{const r=this.files.findIndex(h=>h.name===t.name),m=this.previewFiles.findIndex(h=>h.name===t.name);r!==-1&&(this.files=[...this.files.slice(0,r),...this.files.slice(r+1)]),m!==-1&&(this.previewFiles=[...this.previewFiles.slice(0,m),...this.previewFiles.slice(m+1)]),w.fire({title:"Removed!",text:"File has been removed from selection.",icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0})}}})},selectMember(t){const e=this.selectedTeamMembers.indexOf(t.value);e===-1?this.selectedTeamMembers.push(t.value):this.selectedTeamMembers.splice(e,1)},openMembersModal(){this.isPrivate||(this.showMembersModal=!0)}},components:{DropZone:K,Layout:X,PageHeader:G,ckeditor:W.component,Multiselect:q,flatPickr:Q},mounted(){this.initializeTooltips(),this.mode},watch:{selectedTeamMembersWithData:{handler(){this.$nextTick(()=>{this.initializeTooltips()})},deep:!0},project:{handler(t){t&&(this.submitUrl=`/apps/projects/${t.id}`)},immediate:!0},value3:{handler(t){(Array.isArray(t)?t[0]:t)==="Private"&&(this.value5=null,this.selectedTeamMembers=[])},immediate:!0}}},te={class:"mb-3"},ie={key:0,class:"text-danger small"},se={class:"mb-3"},le={key:0,class:"mb-3"},re={class:"position-relative d-inline-block"},oe=["src","alt"],ae=["placeholder"],ne={key:1,class:"text-danger small"},de={class:"mb-3"},ue={key:0,class:"text-danger small"},ce={class:"mb-3 mb-lg-0"},me={key:0,class:"text-danger small"},pe={class:"mb-3 mb-lg-0"},he={key:0,class:"text-danger small"},fe={key:0,class:"text-danger small"},ve={key:0,class:"alert alert-danger mt-2"},ge={class:"vstack gap-2"},be={class:"d-flex align-items-center p-2"},ye={class:"flex-grow-1"},_e={class:"pt-1"},xe={class:"fs-14 mb-1","data-dz-name":""},Te={class:"fs-13 text-muted mb-0","data-dz-size":""},we={class:"flex-shrink-0 ms-3"},ke={key:0,class:"mb-3"},je={class:"list-group"},Fe={class:"d-flex align-items-center"},Ce={class:"fs-14"},Me={class:"d-flex gap-2"},Be={key:1,class:"mb-3"},Se={class:"list-group"},Pe={class:"d-flex align-items-center"},De=["src"],ze={key:1,class:"ri-file-text-line me-2",style:{"font-size":"24px"}},Ue={class:"text-muted"},Ee={class:"text-end mb-4"},Ve={key:0,class:"text-danger small"},Le={class:"mb-3"},Ie={key:0,class:"text-danger small"},Ae={class:"mb-3"},Oe={for:"choices-lead-input",class:"form-label"},Re={key:0,class:"text-muted"},He={key:0,class:"text-danger small"},Ne={class:"form-label"},qe={key:0,class:"text-muted"},Je={class:"avatar-group"},We={class:"avatar-xs"},Ke=["src","alt"],Ye={key:1,class:"avatar-title rounded-circle bg-secondary"},Xe={key:0,class:"text-danger small d-block mt-1"},Ge={class:"p-3"},Qe={class:"mb-3"},Ze={class:"user-list",style:{"max-height":"300px","overflow-y":"auto"}},$e=["onClick","title"],et={class:"avatar-xs me-3"},tt=["src","alt"],it={key:1,class:"avatar-title rounded-circle bg-secondary"},st={class:"mb-0"},lt={class:"text-muted"},rt={class:"ms-auto"},ot={class:"text-end mt-3"};function at(t,e,a,o,i,r){const m=b("PageHeader"),h=b("ckeditor"),v=b("Multiselect"),g=b("BCol"),D=b("flat-pickr"),F=b("BRow"),_=b("BCardBody"),x=b("BCard"),k=b("BCardHeader"),y=b("BButton"),C=b("BLink"),M=b("BModal"),R=b("Layout");return d(),V(R,null,{default:u(()=>[n(m,{title:a.mode==="edit"?"Edit Project":"Create Project",pageTitle:"Projects"},null,8,["title"]),n(F,null,{default:u(()=>[n(g,{lg:"8"},{default:u(()=>[n(x,{"no-body":""},{default:u(()=>[n(_,null,{default:u(()=>[s("div",te,[e[15]||(e[15]=s("label",{class:"form-label",for:"project-title-input"},"Project Title",-1)),I(s("input",{type:"text",class:"form-control",id:"project-title-input","onUpdate:modelValue":e[0]||(e[0]=l=>i.projectTitle=l),placeholder:"Enter project title"},null,512),[[A,i.projectTitle]]),i.errors.projectTitle?(d(),c("span",ie,p(i.errors.projectTitle),1)):f("",!0)]),s("div",se,[e[17]||(e[17]=s("label",{class:"form-label"},"Project Thumbnail",-1)),i.existingThumbnail?(d(),c("div",le,[s("div",re,[s("img",{src:i.existingThumbnail,class:"img-thumbnail max-width-75",alt:i.existingThumbnailName},null,8,oe),r.isDefaultThumbnail?f("",!0):(d(),c("button",{key:0,onClick:e[1]||(e[1]=(...l)=>r.removeExistingThumbnail&&r.removeExistingThumbnail(...l)),class:"btn btn-danger btn-sm p-1 fs-6 position-absolute top-0 end-0",type:"button"},e[16]||(e[16]=[s("i",{class:"ri-delete-bin-line"},null,-1)])))])])):f("",!0),s("input",{type:"file",class:"form-control",onChange:e[2]||(e[2]=(...l)=>r.handleThumbnailChange&&r.handleThumbnailChange(...l)),accept:"image/*",placeholder:r.isDefaultThumbnail?"Replace default thumbnail":"Choose thumbnail"},null,40,ae),i.thumbnailError?(d(),c("span",ne,p(i.thumbnailError),1)):f("",!0)]),s("div",de,[e[18]||(e[18]=s("label",{class:"form-label"},"Project Description",-1)),n(h,{editor:i.editor,modelValue:i.editorData,"onUpdate:modelValue":e[3]||(e[3]=l=>i.editorData=l),config:i.editorConfig,class:"form-control p-0"},null,8,["editor","modelValue","config"]),i.errors.description?(d(),c("span",ue,p(i.errors.description),1)):f("",!0)]),n(F,null,{default:u(()=>[n(g,{lg:"4"},{default:u(()=>[s("div",ce,[e[19]||(e[19]=s("label",{for:"choices-priority-input",class:"form-label"},"Priority",-1)),n(v,{modelValue:i.value2,"onUpdate:modelValue":e[4]||(e[4]=l=>i.value2=l),name:"priority","close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}]},null,8,["modelValue"]),i.errors.priority?(d(),c("span",me,p(i.errors.priority),1)):f("",!0)])]),_:1}),n(g,{lg:"4"},{default:u(()=>[s("div",pe,[e[20]||(e[20]=s("label",{for:"choices-status-input",class:"form-label"},"Status",-1)),n(v,{modelValue:i.value1,"onUpdate:modelValue":e[5]||(e[5]=l=>i.value1=l),name:"status","close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}]},null,8,["modelValue"]),i.errors.status?(d(),c("span",he,p(i.errors.status),1)):f("",!0)])]),_:1}),n(g,{lg:"4"},{default:u(()=>[s("div",null,[e[21]||(e[21]=s("label",{for:"datepicker-deadline-input",class:"form-label"},"Deadline",-1)),n(D,{modelValue:i.date,"onUpdate:modelValue":e[6]||(e[6]=l=>i.date=l),config:i.config,class:"form-control flatpickr-input"},null,8,["modelValue","config"]),i.errors.deadline?(d(),c("span",fe,p(i.errors.deadline),1)):f("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),n(x,{"no-body":""},{default:u(()=>[n(k,null,{default:u(()=>e[22]||(e[22]=[s("h5",{class:"card-title mb-0"},"Attached files",-1)])),_:1}),n(_,null,{default:u(()=>[s("div",null,[e[26]||(e[26]=s("p",{class:"text-muted"},"Add Attached files here.",-1)),s("input",{type:"file",ref:"fileInput",multiple:"",class:"form-control",onChange:e[7]||(e[7]=(...l)=>r.handleFileSelect&&r.handleFileSelect(...l)),accept:"*/*"},null,544),o.fileError?(d(),c("div",ve,p(o.fileError),1)):f("",!0),s("div",ge,[(d(!0),c(P,null,S(i.files,(l,T)=>(d(),c("div",{class:"border rounded",key:T},[s("div",be,[s("div",ye,[s("div",_e,[s("h5",xe,p(l.name),1),s("p",Te,[s("strong",null,p(l.size/1024),1),e[23]||(e[23]=j(" KB "))]),e[24]||(e[24]=s("strong",{class:"error text-danger","data-dz-errormessage":""},null,-1))])]),s("div",we,[n(y,{variant:"danger",size:"sm","data-dz-remove":"",onClick:U=>r.confirmFileRemoval(l)},{default:u(()=>e[25]||(e[25]=[j(" Delete ")])),_:2},1032,["onClick"])])])]))),128))])])]),_:1})]),_:1}),a.mode==="edit"&&i.existingFiles.length>0?(d(),c("div",ke,[e[31]||(e[31]=s("h6",null,"Existing Files:",-1)),s("div",je,[(d(!0),c(P,null,S(i.existingFiles,(l,T)=>(d(),c("div",{key:T,class:"list-group-item d-flex justify-content-between align-items-center"},[s("div",Fe,[e[27]||(e[27]=s("i",{class:"ri-file-text-line fs-17 me-2"},null,-1)),s("span",Ce,p(l.name),1)]),s("div",Me,[n(y,{variant:"soft-primary",size:"sm",class:"btn-icon waves-effect waves-light",href:l.url,target:"_blank",title:"View "+l.name},{default:u(()=>e[28]||(e[28]=[s("i",{class:"ri-eye-line"},null,-1)])),_:2},1032,["href","title"]),n(y,{variant:"soft-info",size:"sm",class:"btn-icon waves-effect waves-light",onClick:z(U=>r.handleDownload(l),["prevent"]),title:"Download "+l.name},{default:u(()=>e[29]||(e[29]=[s("i",{class:"ri-download-line"},null,-1)])),_:2},1032,["onClick","title"]),n(y,{variant:"soft-danger",size:"sm",class:"btn-icon waves-effect waves-light",onClick:z(U=>r.confirmFileRemoval(l),["prevent"]),title:"Delete "+l.name},{default:u(()=>e[30]||(e[30]=[s("i",{class:"ri-delete-bin-5-line"},null,-1)])),_:2},1032,["onClick","title"])])]))),128))])])):f("",!0),i.previewFiles.length>0?(d(),c("div",Be,[e[33]||(e[33]=s("h6",null,"Selected Files:",-1)),s("div",Se,[(d(!0),c(P,null,S(i.previewFiles,(l,T)=>(d(),c("div",{key:"new-"+T,class:"list-group-item d-flex justify-content-between align-items-center"},[s("div",Pe,[l.preview?(d(),c("img",{key:0,src:l.preview,class:"me-2",style:{width:"40px",height:"40px","object-fit":"cover"}},null,8,De)):(d(),c("i",ze)),s("div",null,[s("div",null,p(l.name),1),s("small",Ue,p(l.size),1)])]),n(y,{variant:"danger",class:"btn-icon waves-effect waves-light",onClick:z(U=>r.confirmFileRemoval(l),["prevent"]),title:"Delete "+l.name},{default:u(()=>e[32]||(e[32]=[s("i",{class:"ri-delete-bin-5-line"},null,-1)])),_:2},1032,["onClick","title"])]))),128))])])):f("",!0),s("div",Ee,[n(y,{onClick:r.submitProject,type:"button",variant:"success",class:"w-sm",disabled:i.isSubmitting},{default:u(()=>[j(p(i.isSubmitting?"Saving...":a.mode==="edit"?"Update":"Create"),1)]),_:1},8,["onClick","disabled"])])]),_:1}),n(g,{lg:"4"},{default:u(()=>[n(x,{"no-body":""},{default:u(()=>[n(k,null,{default:u(()=>e[34]||(e[34]=[s("h5",{class:"card-title mb-0"},"Privacy",-1)])),_:1}),n(_,null,{default:u(()=>[s("div",null,[e[35]||(e[35]=s("label",{for:"choices-privacy-status-input",class:"form-label"},"Status",-1)),n(v,{modelValue:i.value3,"onUpdate:modelValue":e[8]||(e[8]=l=>i.value3=l),name:"privacy","close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"Private",label:"Private"},{value:"Team",label:"Team"}]},null,8,["modelValue"]),i.errors.privacy?(d(),c("span",Ve,p(i.errors.privacy),1)):f("",!0)])]),_:1})]),_:1}),n(x,{"no-body":""},{default:u(()=>[n(k,null,{default:u(()=>e[36]||(e[36]=[s("h5",{class:"card-title mb-0"},"Tags",-1)])),_:1}),n(_,null,{default:u(()=>[s("div",Le,[e[37]||(e[37]=s("label",{for:"choices-categories-input",class:"form-label"},"Categories",-1)),n(v,{modelValue:i.value4,"onUpdate:modelValue":e[9]||(e[9]=l=>i.value4=l),name:"category","close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"Development",label:"Development"},{value:"Designing",label:"Designing"}]},null,8,["modelValue"]),i.errors.category?(d(),c("span",Ie,p(i.errors.category),1)):f("",!0)]),s("div",null,[e[38]||(e[38]=s("label",{for:"choices-text-input",class:"form-label"},"Skills",-1)),n(v,{class:"form-control",modelValue:i.value,"onUpdate:modelValue":e[10]||(e[10]=l=>i.value=l),name:"skills",mode:"tags","close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"UI/UX",label:"UI/UX"},{value:"Figma",label:"Figma"},{value:"HTML",label:"HTML"},{value:"CSS",label:"CSS"},{value:"Javascript",label:"Javascript"},{value:"C#",label:"C#"},{value:"Nodejs",label:"Nodejs"}]},null,8,["modelValue"])])]),_:1})]),_:1}),n(x,{"no-body":""},{default:u(()=>[n(k,null,{default:u(()=>e[39]||(e[39]=[s("h5",{class:"card-title mb-0"},"Members",-1)])),_:1}),n(_,null,{default:u(()=>[s("div",Ae,[s("label",Oe,[e[40]||(e[40]=j(" Team Lead ")),r.isPrivate?(d(),c("span",Re,"(Disabled for private projects)")):f("",!0)]),n(v,{modelValue:i.value5,"onUpdate:modelValue":e[11]||(e[11]=l=>i.value5=l),name:"team_lead","close-on-select":!0,searchable:!0,"create-option":!0,options:r.userOptions,"custom-label":({label:l,email:T})=>`${l} (${T})`,disabled:r.isPrivate,class:L({"opacity-50":r.isPrivate})},null,8,["modelValue","options","custom-label","disabled","class"]),i.errors.team_lead&&!r.isPrivate?(d(),c("span",He,p(i.errors.team_lead),1)):f("",!0)]),s("div",null,[s("label",Ne,[e[41]||(e[41]=j(" Team Members ")),r.isPrivate?(d(),c("span",qe,"(Disabled for private projects)")):f("",!0)]),s("div",Je,[r.selectedTeamMembersWithData.length?(d(!0),c(P,{key:0},S(r.selectedTeamMembersWithData,l=>(d(),V(C,{key:l.value,href:"#",class:"avatar-group-item","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":l.label},{default:u(()=>[s("div",We,[l.avatar?(d(),c("img",{key:0,src:l.avatar,alt:l.label,class:"rounded-circle img-fluid"},null,8,Ke)):(d(),c("div",Ye,p(l.label.charAt(0)),1))])]),_:2},1032,["data-bs-title"]))),128)):f("",!0),r.isPrivate?f("",!0):(d(),V(C,{key:1,href:"#",class:"avatar-group-item","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"Add Members",onClick:z(r.openMembersModal,["prevent"])},{default:u(()=>e[42]||(e[42]=[s("div",{class:"avatar-xs"},[s("div",{class:"avatar-title fs-16 rounded-circle bg-light border-dashed border text-primary"}," + ")],-1)])),_:1},8,["onClick"]))]),i.errors.team_members&&!r.isPrivate?(d(),c("span",Xe,p(i.errors.team_members),1)):f("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),n(M,{modelValue:i.showMembersModal,"onUpdate:modelValue":e[14]||(e[14]=l=>i.showMembersModal=l),"hide-footer":"",title:"Select Team Members","modal-class":"fadeInRight",class:"v-modal-custom",centered:""},{default:u(()=>[s("div",Ge,[s("div",Qe,[I(s("input",{type:"text",class:"form-control",placeholder:"Search users...","onUpdate:modelValue":e[12]||(e[12]=l=>i.searchTerm=l)},null,512),[[A,i.searchTerm]])]),s("div",Ze,[(d(!0),c(P,null,S(r.filteredUsers,l=>(d(),c("div",{key:l.value,class:L(["d-flex align-items-center p-2 border-bottom cursor-pointer hover-bg-light",{"bg-light":i.selectedTeamMembers.includes(l.value)}]),onClick:T=>r.selectMember(l),role:"button",title:i.selectedTeamMembers.includes(l.value)?"Click to remove":"Click to add"},[s("div",et,[l.avatar?(d(),c("img",{key:0,src:l.avatar,alt:l.label,class:"rounded-circle img-fluid"},null,8,tt)):(d(),c("div",it,p(l.label.charAt(0)),1))]),s("div",null,[s("h6",st,p(l.label),1),s("small",lt,p(l.email),1)]),s("div",rt,[s("i",{class:L([i.selectedTeamMembers.includes(l.value)?"ri-checkbox-circle-fill text-success":"ri-add-circle-line text-muted","fs-16"])},null,2)])],10,$e))),128))]),s("div",ot,[n(y,{variant:"primary",onClick:e[13]||(e[13]=l=>i.showMembersModal=!1)},{default:u(()=>e[43]||(e[43]=[j(" Done ")])),_:1})])])]),_:1},8,["modelValue"])]),_:1})}const Mt=Z(ee,[["render",at]]);export{Mt as default};
